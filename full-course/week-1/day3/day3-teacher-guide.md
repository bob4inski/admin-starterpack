# Руководство для преподавателя: День 3 - Устройство Linux и процессы

## Общая информация

- **Продолжительность**: 2 пары (180 минут)
- **Цель**: Изучить устройство Linux, файловую систему, права доступа, процессы и освоить команды для работы в терминале
- **Definition of Done**: Студенты понимают устройство Linux, умеют работать с процессами и создавать полезные однострочники

## Структура занятия

### Первая пара (90 минут) - Лекция: Устройство Linux и процессы

#### Введение (10 минут)
1. Обсуждение предыдущего занятия
2. Объяснение плана текущего занятия
3. Важность понимания устройства Linux для системного администратора

#### Теоретическая часть (70 минут)
1. Базовые команды в терминале (15 минут)
   - Повторение и углубление знаний о базовых командах
   - Команды для работы с текстом, архивами, мониторингом
   - Демонстрация команд в реальном времени

2. Устройство Linux: файловая структура (20 минут)
   - Философия Unix: "всё есть файл"
   - Иерархия файловой системы Linux (FHS)
   - Основные директории и их назначение
   - Демонстрация структуры файловой системы

3. Дискреционная модель доступа (15 минут)
   - Пользователи и группы в Linux
   - Права доступа: чтение, запись, выполнение
   - Восьмеричное представление прав доступа
   - Специальные права доступа: SUID, SGID, sticky bit

4. Процессы и procfs (10 минут)
   - Что такое процесс и его атрибуты
   - Жизненный цикл и иерархия процессов
   - Виртуальная файловая система /proc
   - Демонстрация работы с /proc

5. Сигналы и системные вызовы (10 минут)
   - Основные сигналы и их назначение
   - Отправка сигналов процессам
   - Основные системные вызовы
   - Отслеживание системных вызовов с помощью strace

#### Заключение первой пары (10 минут)
1. Обобщение изученного материала
2. Ответы на вопросы
3. Краткий обзор практической части

### Вторая пара (90 минут) - Практика: Команды для работы в терминале

#### Введение в практическую часть (10 минут)
1. Объяснение целей практической работы
2. Демонстрация примеров однострочников
3. Обзор практических заданий

#### Практическая работа (70 минут)
1. Работа с процессами (20 минут)
   - Просмотр и поиск процессов
   - Управление процессами
   - Изменение приоритетов
   - Практические задания

2. Работа с файловой системой (20 минут)
   - Просмотр использования дискового пространства
   - Поиск файлов
   - Работа с правами доступа
   - Практические задания

3. Работа с текстом и данными (20 минут)
   - Поиск и фильтрация текста
   - Обработка потоков данных
   - Сортировка и уникальные значения
   - Практические задания

4. Создание однострочников (10 минут)
   - Примеры полезных однострочников
   - Регулярные выражения
   - Комбинирование команд

#### Заключение (10 минут)
1. Проверка результатов
2. Обсуждение проблем и решений
3. Объяснение домашнего задания

## Материалы для занятия

### Необходимые файлы
- [`day3-linux-internals.md`](day3-linux-internals.md) - основные материалы лекции
- [`day3-practice-guide.md`](day3-practice-guide.md) - практические задания
- [`day3-commands-cheatsheet.md`](day3-commands-cheatsheet.md) - шпаргалка по командам

### Необходимое ПО
- Система Linux (виртуальная или физическая)
- Базовые утилиты Linux (coreutils)
- Дополнительные утилиты (htop, tree, ack)

## Методические рекомендации

### Проведение лекции
1. Используйте живые демонстрации команд в реальном времени
2. Показывайте структуру файловой системы на реальных примерах
3. Демонстрируйте работу с процессами на примере системных служб
4. Используйте аналогии для объяснения сложных концепций

### Проведение практики
1. Начните с простых команд, постепенно усложняя задания
2. Поощряйте студентов экспериментировать с командами
3. Обходите студентов и помогайте индивидуально
4. Регулярно проверяйте прогресс выполнения

### Типичные проблемы и решения
1. **Проблема**: Студенты путают права доступа
   **Решение**: Используйте визуальные примеры и таблицы с объяснением

2. **Проблема**: Сложности с пониманием процессов
   **Решение**: Демонстрируйте процессы на реальных примерах, используйте pstree

3. **Проблема**: Трудности с регулярными выражениями
   **Решение**: Начните с простых примеров, постепенно усложняя

4. **Проблема**: Сложности с комбинированием команд
   **Решение**: Показывайте пошагово, как работает каждая команда в цепочке

## Критерии оценки практической работы

- **Отлично (5)**: Все задания выполнены, созданы сложные однострочники, понимание принципов работы команд
- **Хорошо (4)**: Основные задания выполнены, созданы простые однострочники
- **Удовлетворительно (3)**: Не менее 4 из 6 заданий выполнены
- **Неудовлетворительно (2)**: Менее 4 заданий выполнено

## Дополнительные материалы для углубленного изучения

### Книги
- "The Linux Command Line" by William Shotts
- "How Linux Works" by Brian Ward
- "Linux Pocket Guide" by Daniel Barrett
- "Unix Power Tools" by Jerry Peek, Tim O'Reilly, Mike Loukides

### Онлайн-ресурсы
- [Linux Documentation Project](https://tldp.org/)
- [Arch Linux Wiki](https://wiki.archlinux.org/)
- [GNU Coreutils Manual](https://www.gnu.org/software/coreutils/manual/)
- [Regular-Expressions.info](https://www.regular-expressions.info/)

### Видеоматериалы
- [Linux Command Line Tutorial](https://www.youtube.com/playlist?list=PLS1QulWo1RIaTncwlf1HTYRzidZGj3uRU)
- [Awk Tutorial](https://www.youtube.com/watch?v=Op6UIKq9SAs)
- [Sed Tutorial](https://www.youtube.com/watch?v=UBhh9PF_3R0)

## Подготовка к следующему занятию

1. Убедитесь, что у всех студентов работают базовые команды
2. Проверьте выполнение домашних заданий
3. Подготовьте материалы по теме "Linux и процессы (продолжение)"
4. Подготовьте демонстрационные примеры для работы с gdb, strace

## Возможные вопросы студентов

1. **Вопрос**: Зачем изучать все эти команды, если есть графические интерфейсы?
   **Ответ**: Командная строка обеспечивает автоматизацию, работает на удалённых серверах, быстрее для многих задач

2. **Вопрос**: Как запомнить все эти команды?
   **Ответ**: Не нужно запоминать всё. Используйте man-страницы, --help, историю команд и шпаргалки

3. **Вопрос**: В чем разница между системными вызовами и библиотечными функциями?
   **Ответ**: Системные вызовы обращаются напрямую к ядру, библиотечные функции могут использовать системные вызовы

4. **Вопрос**: Как безопасно использовать команды с правами суперпользователя?
   **Ответ**: Всегда проверяйте команду перед выполнением, используйте sudo вместо прямого входа root

5. **Вопрос**: Как отладить сложный однострочник?
   **Ответ**: Разбейте на части, проверяйте вывод каждой команды, используйте tee для промежуточных результатов

## Советы по эффективности обучения

1. Используйте реальные примеры из практики системного администрирования
2. Поощряйте студентов создавать собственные однострочники для решения их задач
3. Регулярно связывайте теорию с практическими задачами
4. Адаптируйте темп занятий под уровень группы
5. Используйте проблемное обучение - предлагайте решить реальные проблемы

## Дополнительные практические задания

### Для продвинутых студентов
1. Создать скрипт для мониторинга системных ресурсов
2. Написать сложный однострочник для анализа логов
3. Исследовать работу с ACL (Access Control Lists)
4. Изучить продвинутые возможности awk и sed

### Для отстающих студентов
1. Упрощенные задания с пошаговыми инструкциями
2. Работа в парах с более сильными студентами
3. Дополнительные объяснения сложных концепций
4. Упрощенные однострочники с объяснением каждого шага

## Оценка понимания материала

### Контрольные вопросы
1. Что такое дискреционная модель доступа?
2. Как работают права доступа в Linux?
3. Что такое процесс и каковы его основные атрибуты?
4. Какие основные сигналы вы знаете и для чего они используются?
5. Что такое системные вызовы и чем они отличаются от библиотечных функций?

### Практические задания
1. Показать процесс, потребляющий больше всего памяти
2. Найти все файлы с определёнными правами доступа
3. Создать однострочник для анализа логов
4. Продемонстрировать работу с правами доступа

## Заключение

После завершения этого занятия студенты будут понимать устройство Linux, уметь работать с процессами и файловой системой, а также создавать полезные однострочники для автоматизации рутинных задач. Эти навыки являются фундаментальными для системного администратора и будут использоваться на протяжении всей карьеры.
